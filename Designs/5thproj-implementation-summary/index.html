<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://fifth-lang.org/Designs/5thproj-implementation-summary/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>.5thproj MSBuild Project Type Implementation Summary - The Fifth Programming Language</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = ".5thproj MSBuild Project Type Implementation Summary";
        var mkdocs_page_input_path = "Designs\\5thproj-implementation-summary.md";
        var mkdocs_page_url = "/Designs/5thproj-implementation-summary/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/yaml.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/rust.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> The Fifth Programming Language
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Fifth Language</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Blog</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Blog/2025-09-16-graph-assertion-block/">Announcing Graph Assertion Blocks in Fifth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Blog/2025-11-28-release-packaging-pipeline/">A Practical Release Pipeline for Fifth</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Designs</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">.5thproj MSBuild Project Type Implementation Summary</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#what-was-delivered">What Was Delivered</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-fifthsdk-msbuild-sdk-package">1. Fifth.Sdk MSBuild SDK Package</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-test-project">2. Test Project</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#3-documentation">3. Documentation</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#how-it-works">How It Works</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#usage-example">Usage Example</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#testing-verification">Testing &amp; Verification</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#configuration-properties">Configuration Properties</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#integration-points">Integration Points</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#known-limitations">Known Limitations</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#future-enhancements">Future Enhancements</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#files-createdmodified">Files Created/Modified</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#new-files">New Files:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#modified-files">Modified Files:</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#compliance-with-requirements">Compliance with Requirements</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conclusion">Conclusion</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fifth-sdk-readme/">Fifth.Sdk</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Misc</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../misc/AST_REWRITER_DESIGN/">AST Rewriter Design</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/debugging/">Debugging Workflows</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/destructuring-lowering-migration/">Destructuring Lowering Migration to Statement-Hoisting Rewriter</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/generics-implementation-summary/">Generic Type Support Implementation Summary</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/migration-exception-handling/">Migration Notes - Exception Handling Support</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/namespace-import-directives-research/">Research Notes: Namespace Import Directives</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/syntax-samples-readme/">Syntax Samples</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/syntax-testcases-bulleted/">Fifth Syntax Unit Tests (Bulleted)</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/syntax-testplan/">Fifth Language Syntax Test Plan</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/triple-diagnostics-refactor/">Deferred Triple Diagnostics Refactor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../misc/vscode-devkit-tests/">VS Code Dev Kit: Running xUnit Tests</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Perf</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../perf/baselines/">Baselines</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Development</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Development/release-process/">Fifth Language Release Process</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Getting Started</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting-Started/knowledge-graphs/">Knowledge Graphs in Fifth</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../Getting-Started/learn5thInYMinutes/">learn5thInYMinutes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Planning</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >Architecture review</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../Planning/architecture-review/NEXT-STEPS/">Architectural Review - Next Steps</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../Planning/architecture-review/architectural-review-2025/">Fifth Language Compiler - Architectural Review Report</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >Arch review issues</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/">Architectural Review Issues</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/ISSUE-001-error-recovery/">Parser Needs Error Recovery for IDE Support</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/ISSUE-002-lsp-implementation/">Implement Language Server Protocol (LSP) for IDE Integration</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/ISSUE-003-incremental-compilation/">Implement Incremental Compilation for Performance and IDE Support</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/ISSUE-004-diagnostic-system/">Redesign Diagnostic System for Quality Error Messages and IDE Support</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/ISSUE-005-composable-pipeline/">Refactor Transformation Pipeline to Composable Architecture</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/ISSUE-006-symbol-table/">Enhance Symbol Table for Performance and IDE Features</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../Planning/architecture-review/arch-review-issues/ISSUE-007-testing-architecture/">Restructure Testing Architecture for Better Coverage and Maintainability</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">The Fifth Programming Language</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Designs</li>
      <li class="breadcrumb-item active">.5thproj MSBuild Project Type Implementation Summary</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="5thproj-msbuild-project-type-implementation-summary">.5thproj MSBuild Project Type Implementation Summary</h1>
<h2 id="overview">Overview</h2>
<p>This implementation adds native MSBuild support for Fifth language projects through a custom SDK package (<code>Fifth.Sdk</code>), enabling <code>.5thproj</code> files to be built alongside C# and F# projects in .NET solutions.</p>
<h2 id="what-was-delivered">What Was Delivered</h2>
<h3 id="1-fifthsdk-msbuild-sdk-package">1. Fifth.Sdk MSBuild SDK Package</h3>
<p>Located in <code>src/Fifth.Sdk/</code>, this package provides:</p>
<ul>
<li><strong>Sdk.props</strong>: Defines project properties, default configurations, and source file patterns</li>
<li>Automatically includes all <code>*.5th</code> files in the project directory</li>
<li>Sets up standard .NET output paths (<code>bin/&lt;Configuration&gt;/&lt;TargetFramework&gt;/</code>)</li>
<li>
<p>Configures default target framework (net8.0) and output type (Exe)</p>
</li>
<li>
<p><strong>Sdk.targets</strong>: Implements MSBuild targets for the Fifth build process</p>
</li>
<li><code>FifthCompile</code>: Main compilation target that invokes the Fifth compiler</li>
<li><code>ResolveFifthCompilerPath</code>: Locates the Fifth compiler DLL</li>
<li><code>CreateOutputDirectory</code>: Ensures output directory exists before compilation</li>
<li><code>Build</code>: Top-level build target</li>
<li><code>Clean</code>: Removes build outputs</li>
<li><code>Rebuild</code>: Performs clean followed by build</li>
</ul>
<h3 id="2-test-project">2. Test Project</h3>
<p>Located in <code>test/fifth-sdk-tests/</code>:</p>
<ul>
<li><code>HelloFifth.5thproj</code>: Example Fifth project file demonstrating SDK usage</li>
<li><code>hello.5th</code>: Simple Fifth program that demonstrates basic syntax</li>
<li><code>NuGet.Config</code>: Configures local SDK package source for development</li>
<li><code>global.json</code>: Specifies SDK version for the test project</li>
</ul>
<h3 id="3-documentation">3. Documentation</h3>
<ul>
<li><code>src/Fifth.Sdk/README.md</code>: Comprehensive SDK documentation including:</li>
<li>Requirements and prerequisites</li>
<li>Usage examples and project file structure</li>
<li>Available properties and targets</li>
<li>Development and local testing instructions</li>
<li>
<p>Future enhancements and limitations</p>
</li>
<li>
<p>Updated <code>README.md</code>: Added section on MSBuild project support with quick examples</p>
</li>
</ul>
<h2 id="how-it-works">How It Works</h2>
<ol>
<li><strong>Project Discovery</strong>: MSBuild recognizes <code>.5thproj</code> files through the <code>Sdk</code> attribute in the project root element</li>
<li><strong>SDK Resolution</strong>: NuGet resolves and loads the Fifth.Sdk package</li>
<li><strong>Property Evaluation</strong>: Sdk.props sets default properties (TargetFramework, OutputPath, etc.)</li>
<li><strong>Source Collection</strong>: All <code>.5th</code> files are automatically included for compilation</li>
<li><strong>Build Execution</strong>: Sdk.targets runs the FifthCompile target which:</li>
<li>Locates the Fifth compiler</li>
<li>Computes the output path</li>
<li>Invokes the compiler with appropriate arguments</li>
<li>Creates the output executable</li>
</ol>
<h2 id="usage-example">Usage Example</h2>
<pre><code class="language-xml">&lt;Project Sdk=&quot;Fifth.Sdk&quot;&gt;
  &lt;PropertyGroup&gt;
    &lt;OutputType&gt;Exe&lt;/OutputType&gt;
    &lt;TargetFramework&gt;net8.0&lt;/TargetFramework&gt;
    &lt;AssemblyName&gt;MyApp&lt;/AssemblyName&gt;
    &lt;!-- Optional: specify compiler location --&gt;
    &lt;FifthCompilerPath&gt;../path/to/compiler.dll&lt;/FifthCompilerPath&gt;
  &lt;/PropertyGroup&gt;
&lt;/Project&gt;
</code></pre>
<p>Build command:</p>
<pre><code class="language-bash">dotnet build MyProject.5thproj
</code></pre>
<h2 id="testing-verification">Testing &amp; Verification</h2>
<p>All standard MSBuild operations have been tested and verified:</p>
<p>✅ <strong>Restore</strong>: NuGet package resolution works correctly
✅ <strong>Build</strong>: Compiles <code>.5th</code> files and produces <code>.exe</code> output
✅ <strong>Clean</strong>: Removes build outputs
✅ <strong>Rebuild</strong>: Performs clean followed by build
✅ <strong>Solution-level build</strong>: Fifth.Sdk project builds as part of solution
✅ <strong>Output structure</strong>: Follows standard .NET conventions</p>
<p>Example build output:</p>
<pre><code>bin/
└── Debug/
    └── net8.0/
        ├── HelloFifth.exe
        └── HelloFifth.runtimeconfig.json
</code></pre>
<h2 id="configuration-properties">Configuration Properties</h2>
<table>
<thead>
<tr>
<th>Property</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>TargetFramework</code></td>
<td>net8.0</td>
<td>Target .NET framework</td>
</tr>
<tr>
<td><code>OutputType</code></td>
<td>Exe</td>
<td>Output type (currently only Exe supported)</td>
</tr>
<tr>
<td><code>Configuration</code></td>
<td>Debug</td>
<td>Build configuration</td>
</tr>
<tr>
<td><code>OutputPath</code></td>
<td>bin\<Config>\<TFM>\</td>
<td>Output directory</td>
</tr>
<tr>
<td><code>FifthSourceDirectory</code></td>
<td>Project directory</td>
<td>Directory containing source files</td>
</tr>
<tr>
<td><code>FifthCompilerPath</code></td>
<td>Auto-detected</td>
<td>Path to compiler.dll</td>
</tr>
<tr>
<td><code>FifthOutputPath</code></td>
<td><OutputPath>\<Name>.exe</td>
<td>Full output executable path</td>
</tr>
</tbody>
</table>
<h2 id="integration-points">Integration Points</h2>
<ol>
<li><strong>NuGet Package System</strong>: SDK is distributed as a standard NuGet package</li>
<li><strong>MSBuild</strong>: Leverages existing MSBuild infrastructure for project evaluation and execution</li>
<li><strong>dotnet CLI</strong>: Works with all <code>dotnet</code> commands (build, clean, etc.)</li>
<li><strong>Solution Files</strong>: Fifth.Sdk project can be included in .sln files (though .5thproj files have limited .sln support)</li>
</ol>
<h2 id="known-limitations">Known Limitations</h2>
<ol>
<li><strong>.sln Format</strong>: Visual Studio solution files don't natively recognize <code>.5thproj</code> extension</li>
<li>This doesn't prevent MSBuild usage</li>
<li>
<p>Projects can still be built from solution level</p>
</li>
<li>
<p><strong>Library Projects</strong>: Currently only supports executable projects</p>
</li>
<li>
<p>Can be extended to support library projects in future</p>
</li>
<li>
<p><strong>Runtime Execution</strong>: Generated executables have runtime issues</p>
</li>
<li>This is an existing compiler problem, not SDK-related</li>
<li>
<p>SDK successfully builds and produces output</p>
</li>
<li>
<p><strong>IDE Integration</strong>: No syntax highlighting or IntelliSense support yet</p>
</li>
<li>This requires additional tooling beyond MSBuild</li>
</ol>
<h2 id="future-enhancements">Future Enhancements</h2>
<ol>
<li>Support for library projects (DLL output)</li>
<li>Project-to-project references</li>
<li>IDE tooling integration (VS Code, Visual Studio)</li>
<li>NuGet package publishing of Fifth.Sdk</li>
<li>Multi-targeting support</li>
<li>Custom build events and hooks</li>
<li>Enhanced .sln integration</li>
</ol>
<h2 id="files-createdmodified">Files Created/Modified</h2>
<h3 id="new-files">New Files:</h3>
<ul>
<li><code>src/Fifth.Sdk/Fifth.Sdk.csproj</code></li>
<li><code>src/Fifth.Sdk/Sdk/Sdk.props</code></li>
<li><code>src/Fifth.Sdk/Sdk/Sdk.targets</code></li>
<li><code>src/Fifth.Sdk/README.md</code></li>
<li><code>test/fifth-sdk-tests/HelloFifth.5thproj</code></li>
<li><code>test/fifth-sdk-tests/hello.5th</code></li>
<li><code>test/fifth-sdk-tests/NuGet.Config</code></li>
<li><code>test/fifth-sdk-tests/global.json</code></li>
</ul>
<h3 id="modified-files">Modified Files:</h3>
<ul>
<li><code>fifthlang.sln</code> (added Fifth.Sdk project)</li>
<li><code>README.md</code> (added MSBuild support section)</li>
</ul>
<h2 id="compliance-with-requirements">Compliance with Requirements</h2>
<p>The implementation fulfills all requirements from the original issue:</p>
<p>✅ <strong>MSBuild project type with .5thproj extension</strong>: Implemented
✅ <strong>Native inclusion in .NET solutions</strong>: Works with <code>dotnet</code> commands
✅ <strong>Building within other .NET solutions</strong>: MSBuild integration complete
✅ <strong>.NET 8 minimum compatibility</strong>: Tested and verified on .NET 8</p>
<h2 id="conclusion">Conclusion</h2>
<p>The Fifth.Sdk successfully enables Fifth language projects to be integrated into the .NET ecosystem using standard MSBuild tooling. The implementation follows .NET SDK patterns and conventions, making it familiar to .NET developers while providing a seamless build experience for Fifth projects.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../../Blog/2025-11-28-release-packaging-pipeline/" class="btn btn-neutral float-left" title="A Practical Release Pipeline for Fifth"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../fifth-sdk-readme/" class="btn btn-neutral float-right" title="Fifth.Sdk">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../../Blog/2025-11-28-release-packaging-pipeline/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../fifth-sdk-readme/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
