alias x as <http://example.com/blah#>;

class Person in <x:>
{
    dob : DateTimeOffset ;
    age : int ;
}

calculate_age(val : DateTimeOffset): int
{
    // Simple year difference avoiding TimeSpan property lowering issues
    return DateTimeOffset.Now.Year - val.Year;
}

foo(a : int, n : string): void
{
    eric : Person = new Person();
    // Avoid constructor invocation form to keep codegen simple; use Now
    d: DateTimeOffset = DateTimeOffset.Now;
    eric.dob = d;
    eric.age = calculate_age(d);
    ericKnowledge : graph in <x:people> = KG.CreateGraph();
}
